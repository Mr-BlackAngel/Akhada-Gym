{% extends "base.html" %}
{% block content %}
<!-- 
  This is your NEW Trainer Base Layout.
  It contains the sidebar and a blank 'trainer_content' block.
  All other trainer pages will 'extend' this file.
-->
<div class="min-h-screen flex bg-neutral-100">

  <!-- 
      TRAINER SIDEBAR
      (This is styled just like the Admin sidebar)
    -->
  <aside class="w-64 bg-gray-950 text-white flex flex-col p-4 shadow-xl flex-shrink-0">
    <div class="flex items-center gap-3 mb-8 px-2">
      <div class="bg-primary-600 p-2 rounded-lg">
        <!-- Dumbbell SVG Icon -->
        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M14.4 14.4 9.6 9.6M18.657 5.343l-1.414-1.414a2 2 0 0 0-2.828 0l-1.414 1.414M11.07 12.93l-1.414 1.414a2 2 0 0 0 0 2.828l1.414 1.414a2 2 0 0 0 2.828 0l1.414-1.414M5.343 18.657l-1.414-1.414a2 2 0 0 1 0-2.828l1.414-1.414M12.93 11.07l1.414-1.414a2 2 0 0 0-2.828-2.828l-1.414 1.414">
          </path>
          <path d="M2 22 22 2"></path>
        </svg>
      </div>
      <div class="text-xl font-bold tracking-wide">AKHADA</div>
    </div>

    <nav class="flex-1 space-y-2">
      <!-- 
              These are the navigation links from your TrainerDashboard.tsx.
              The 'trainer_active_page' variable highlights the current page.
            -->
      <a href="{{ url_for('trainer_dashboard') }}" class="flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                      {% if trainer_active_page == 'overview' %}
                        bg-primary-600 text-white font-medium
                      {% else %}
                        text-neutral-300 hover:bg-gray-800 hover:text-white
                      {% endif %}">
        <!-- Home Icon -->
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span>Overview</span>
      </a>

      <a href="{{ url_for('trainer_clients') }}" class="flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                      {% if trainer_active_page == 'clients' %}
                        bg-primary-600 text-white font-medium
                      {% else %}
                        text-neutral-300 hover:bg-gray-800 hover:text-white
                      {% endif %}">
        <!-- Users Icon -->
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        <span>My Clients</span>
      </a>
      <a href="{{ url_for('trainer_schedule') }}" class="flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                      {% if trainer_active_page == 'schedule' %}
                        bg-primary-600 text-white font-medium
                      {% else %}
                        text-neutral-300 hover:bg-gray-800 hover:text-white
                      {% endif %}">
        <!-- Calendar Icon -->
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
          <line x1="16" x2="16" y1="2" y2="6"></line>
          <line x1="8" x2="8" y1="2" y2="6"></line>
          <line x1="3" x2="21" y1="10" y2="10"></line>
        </svg>
        <span>Schedule</span>

        <a href="{{ url_for('trainer_classes') }}" class="flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                      {% if trainer_active_page == 'classes' %}
                        bg-primary-600 text-white font-medium
                      {% else %}
                        text-neutral-300 hover:bg-gray-800 hover:text-white
                      {% endif %}">
          <!-- Dumbbell Icon -->
          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path
              d="M14.4 14.4 9.6 9.6M18.657 5.343l-1.414-1.414a2 2 0 0 0-2.828 0l-1.414 1.414M11.07 12.93l-1.414 1.414a2 2 0 0 0 0 2.828l1.414 1.414a2 2 0 0 0 2.828 0l1.414-1.414M5.343 18.657l-1.414-1.414a2 2 0 0 1 0-2.828l1.414-1.414M12.93 11.07l1.414-1.414a2 2 0 0 0-2.828-2.828l-1.414 1.414">
            </path>
            <path d="M2 22 22 2"></path>
          </svg>
          <span>Group Classes</span>
        </a>

        <a href="{{ url_for('trainer_tools') }}" class="flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                      {% if trainer_active_page == 'tools' %}
                        bg-primary-600 text-white font-medium
                      {% else %}
                        text-neutral-300 hover:bg-gray-800 hover:text-white
                      {% endif %}">
          <!-- Tool Icon -->
          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path
              d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z">
            </path>
          </svg>
          <span>Tools</span>
        </a>
    </nav>

    <!-- User Info & Logout Button -->
    <div class="mt-auto pt-4 border-t border-gray-700">
      <div class="flex items-center justify-between">
        <div>
          <div class="text-sm font-medium text-white">{{ user.name }}</div>
          <div class="text-xs text-neutral-400">{{ user.email }}</div>
        </div>
        <a href="{{ url_for('logout') }}" title="Sign Out"
          class="p-2 rounded-lg text-neutral-300 hover:bg-red-600 hover:text-white">
          <!-- Logout Icon -->
          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" x2="9" y1="12" y2="12"></line>
          </svg>
        </a>
      </div>
    </div>
  </aside>

  <!-- 
      MAIN CONTENT AREA
      This is the "blank space" where our pages will go.
    -->
  <main class="flex-1 p-8 overflow-auto">
    {% block trainer_content %}{% endblock %}
  </main>
</div>
{% endblock %}