<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - AKHADA</title>
  <!-- This links to your FINAL compiled CSS file -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
  <!-- Using the Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      /* This loads your background image.
        IMPORTANT: You must have 'login-bg.jpg' in your 'static/images/' folder.
      */
      background-image: url("{{ url_for('static', filename='images/login-bg.jpg') }}");
      background-size: cover;
      background-position: center;
    }

    /* Updated card background style */
    .backdrop-blur-xl {
      backdrop-filter: blur(8px);
      background-color: rgba(4, 120, 87, 0.85); /* Emerald semi-transparent */
      border: none; /* Remove dividing white border */
      box-shadow: 0 8px 24px rgba(4, 120, 87, 0.6); /* Subtle emerald shadow */
      border-radius: 1.5rem;
      color: white;
    }
  </style>
</head>
<body>

  <!-- This is the translated HTML from your LoginPage.tsx, with the new Emerald theme -->
  <div class="relative min-h-screen flex items-center justify-center bg-[#0b0f19] overflow-hidden">

    <!-- Dark overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-neutral-900/70 via-neutral-900/80 to-black/70"></div>

    <!-- CARD -->
    <div class="relative w-full max-w-md px-4 z-10">
      <div class="backdrop-blur-xl p-10 text-white">

        <!-- ICON + TITLE -->
        <div class="flex flex-col items-center mb-8">
          <div class="bg-primary-600 p-4 rounded-full shadow-lg">
            <!-- Dumbbell SVG Icon -->
            <svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.4 14.4 9.6 9.6M18.657 5.343l-1.414-1.414a2 2 0 0 0-2.828 0l-1.414 1.414M11.07 12.93l-1.414 1.414a2 2 0 0 0 0 2.828l1.414 1.414a2 2 0 0 0 2.828 0l1.414-1.414M5.343 18.657l-1.414-1.414a2 2 0 0 1 0-2.828l1.414-1.414M12.93 11.07l1.414-1.414a2 2 0 0 0-2.828-2.828l-1.414 1.414"></path><path d="M2 22 22 2"></path></svg>
          </div>
          <h1 class="text-3xl font-semibold mt-4 tracking-tight">
            Welcome to AKHADA
          </h1>
          <p class="text-white/70 text-center">
            Sign in to access your account
          </p>
        </div>

        <!-- 
          This is the main login form. 
          - method="POST" tells the browser to send data.
          - action="/login" tells it to send to our Python '/login' route.
        -->
        <form action="{{ url_for('login') }}" method="POST" class="space-y-6">

          <!-- 
            This is where error messages from app.py will appear.
            (e.g., "Invalid email or password.")
          -->
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="p-3 rounded-md {{ 'bg-red-600' if category == 'error' else 'bg-primary-600' }} text-white" role="alert">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}

          <!-- Role -->
          <div class="space-y-2">
            <label for="role" class="text-sm font-medium leading-none">Select Role</label>
            <!-- 
              IMPORTANT: The 'name' attribute is how Python (request.form.get) 
              reads the value.
            -->
            <select
              name="role"
              id="role"
              class="w-full bg-white/10 border-white/20 text-white h-10 rounded-md border px-3 py-1 text-sm focus:ring-primary-400 focus:border-primary-400 form-select"
            >
              <!-- The <option> values MUST match your logic -->
              <option value="member" class="text-black">Member</option>
              <option value="admin" class="text-black">Admin</option>
              <option value="trainer" class="text-black">Trainer</option>
            </select>
          </div>

          <!-- Email -->
          <div class="space-y-2">
            <label for="email" class="text-sm font-medium leading-none">Email</label>
            <input
              type="email"
              name="email"
              id="email"
              class="w-full bg-white/10 border-white/20 text-white placeholder-white/40 h-10 rounded-md border px-3 py-1 text-sm focus:ring-primary-400 focus:border-primary-400 form-input"
              placeholder="Enter email"
              required
            >
          </div>

          <!-- Password -->
          <div class="space-y-2">
            <label for="password" class="text-sm font-medium leading-none">Password</label>
            <input
              type="password"
              name="password"
              id="password"
              class="w-full bg-white/10 border-white/20 text-white placeholder-white/40 h-10 rounded-md border px-3 py-1 text-sm focus:ring-primary-400 focus:border-primary-400 form-input"
              placeholder="Enter password"
              required
            >
          </div>

          <!-- LOGIN BUTTON -->
          <button
            type="submit"
            class="w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold text-lg py-3 rounded-xl h-auto transition-colors duration-200"
          >
            Sign In
          </button>
        </form>

        <!-- SIGNUP / BACK LINKS -->
        <div class="mt-6 text-center">
          <p class="text-white/70">
            Donâ€™t have an account?
            <a href="{{ url_for('signup') }}" class="text-primary-400 hover:underline cursor-pointer">
              Sign Up
            </a>
          </p>
        </div>
        <div class="mt-4 text-center">
          <a href="{{ url_for('index') }}" class="text-white/60 hover:text-white hover:underline">
            Back to Guest Portal
          </a>
        </div>

      </div>
    </div>
  </div>
</body>
</html>
